{"version":3,"file":"component---src-pages-shop-js-b2d579ce769440261081.js","mappings":"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","sources":["webpack://indiaohyes/./src/components/buttons/button.js","webpack://indiaohyes/./src/components/loader.js","webpack://indiaohyes/./src/components/product.js","webpack://indiaohyes/./src/components/cartItem.js","webpack://indiaohyes/./src/pages/shop.js","webpack://indiaohyes/./src/assets/bag.svg"],"sourcesContent":["import React from 'react';\r\nimport { Link } from 'gatsby';\r\n\r\nconst btnClasses = 'inline-block px-16 py-4 bg-violet text-white rounded-xl col-span-full justify-self-center shadow-md hover:bg-violet-dark transition-colors';\r\n\r\nconst Button = props => props.isLink\r\n    ? <Link className={btnClasses} to={props.to || '/'}>{props.children}</Link>\r\n    : <button\r\n        type={props.type || 'button'}\r\n        className={`${btnClasses} ${props.className || ''}`}\r\n        onClick={e => props.onClick?.(e)}\r\n    >\r\n        {props.children}\r\n    </button>\r\n\r\nexport default Button;","import React from 'react';\r\n\r\nconst Loader = props => (\r\n    <div className={`flex justify-center items-center ${props.className}`}>\r\n        <div className='animate-spin h-20 w-20 rounded-full border-8' style={{ borderTopColor: 'rgba(31, 41, 55, .9)' }}></div>\r\n    </div>\r\n);\r\n\r\nexport default Loader;","import React from 'react';\r\n\r\nimport axios, { URL } from '../services/api';\r\n\r\nconst Product = ({ data, setCart }) => (\r\n    <div className='bg-cream flex items-center rounded-xl py-2 px-4'>\r\n        <img src={`${URL}/images/products/test.png`} alt='PRODUCT' className='h-20' />\r\n\r\n        <div className='ml-4 mr-auto'>\r\n            <h3>{data.title}</h3>\r\n            <p className='text-xs mb-2'>Great Quality</p>\r\n            <p className='text-sm text-violet font-semibold'>₹{data.price}</p>\r\n        </div>\r\n\r\n        <button className='block self-end text-2xl hover:text-violet-dark' onClick={async () => {\r\n            try {\r\n                const response = await axios.get(`/users/cart/add-to-cart/${data._id}`);\r\n                setCart(response.data.data.cart);\r\n            }\r\n            catch (err) {\r\n                console.log(err);\r\n            }\r\n        }}\r\n        >\r\n            +\r\n        </button>\r\n    </div>\r\n);\r\n\r\nexport default Product;","import React from 'react';\r\n\r\nimport axios, { URL } from '../services/api';\r\n\r\nconst CartItem = ({ data, id, setCart }) => (\r\n    <div className='bg-white p-6 flex mb-4'>\r\n        <img src={`${URL}/images/products/test.png`} alt='CART ITEM' className='h-20' />\r\n\r\n        <div className='flex flex-col ml-3 mr-auto'>\r\n            <h2>{data.title}</h2>\r\n            <p className='text-xs mb-auto'>Great Quality</p>\r\n            <p className='text-sm text-violet font-semibold'>₹{data.price}</p>\r\n        </div>\r\n\r\n        <div className='flex flex-col justify-between items-center'>\r\n            <button className='bg-violet h-6 w-6 text-gray-100 bg-opacity-70 rounded-md' onClick={async () => {\r\n                try {\r\n                    const response = await axios.get(`/users/cart/add-to-cart/${id}`);\r\n                    setCart(response.data.data.cart);\r\n                }\r\n                catch (err) {\r\n                    console.log(err);\r\n                }\r\n            }}>+</button>\r\n            <span>{data.quantity}</span>\r\n            <button className='bg-violet h-6 w-6 text-gray-100 bg-opacity-70 rounded-md'  onClick={async () => {\r\n                try {\r\n                    const response = await axios.get(`/users/cart/remove-cart-item/${id}`);\r\n                    setCart(response.data.data.cart);\r\n                    console.log(response.data);\r\n                }\r\n                catch (err) {\r\n                    console.log(err);\r\n                }\r\n            }}>-</button>\r\n        </div>\r\n    </div>\r\n);\r\n\r\nexport default CartItem;","import React, { useState, useEffect } from 'react';\r\nimport { Link } from 'gatsby';\r\nimport axios from '../services/api';\r\nimport isLoggedIn from '../services/auth';\r\n\r\nimport Product from '../components/product';\r\nimport CartItem from '../components/cartItem';\r\nimport Loader from '../components/loader';\r\nimport Button from '../components/buttons/button';\r\n\r\nimport BagIcon from '../assets/bag.svg';\r\n\r\nconst ShopPage = () => {\r\n\t// State variables\r\n\tconst [data, setData] = useState();\r\n\tconst [cart, setCart] = useState();\r\n\tconst [cartDisplay, setCartDisplay] = useState(false);\r\n\r\n\t// Fetching data from API\r\n\tuseEffect(() => {\r\n\t\taxios\r\n\t\t\t.get('/products')\r\n\t\t\t.then(res => setData(res.data.data.products))\r\n\t\t\t.catch(err => {\r\n\t\t\t\tsetData([]);\r\n\t\t\t\tconsole.log(err.response);\r\n\t\t\t});\r\n\r\n\t\taxios\r\n\t\t\t.get('/users/cart')\r\n\t\t\t.then(res => setCart(res.data.data.cart))\r\n\t\t\t.catch(err => {\r\n\t\t\t\tsetCart([]);\r\n\t\t\t\tconsole.log(err.response);\r\n\t\t\t});\r\n\t}, []);\r\n\r\n\treturn (\r\n\t\t<div className='min-h-screen tab-land:grid-cols-none'>\r\n\t\t\t<div className='p-8'>\r\n\t\t\t\t<div className='flex justify-between items-center mb-6 col-span-full'>\r\n\t\t\t\t\t<Link to='/' className='font-semibold text-xl'>Go Home</Link>\r\n\t\t\t\t\t<button className='relative' onClick={() => setCartDisplay(true)}>\r\n\t\t\t\t\t\t<div className='absolute w-6 h-6 rounded-full bg-violet -right-4 -top-4 text-white'>{Object.entries(cart?.items || {}).length || 0}</div>\r\n\t\t\t\t\t\t<BagIcon />\r\n\t\t\t\t\t</button>\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<input type='text' className='w-full bg-gray-100 py-2 px-4 rounded-lg' placeholder='Search' />\r\n\r\n\t\t\t\t<div className='grid grid-cols-3 gap-10 mt-6 tab-port:grid-cols-2 phone:grid-cols-none'>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tdata\r\n\t\t\t\t\t\t\t? data.length\r\n\t\t\t\t\t\t\t\t? data.map((product, i) => <Product key={i} data={product} setCart={setCart} />)\r\n\t\t\t\t\t\t\t\t: <h1>No data found</h1>\r\n\t\t\t\t\t\t\t: <Loader className='col-span-full' />\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\r\n\t\t\t<div className={`flex flex-col h-screen w-96 tab-port:w-full z-10 top-0 right-0 overflow-auto mb-auto tab-land:mb-10 bg-cream p-5 fixed ${!cartDisplay ? 'opacity-0 invisible' : 'opacity-100 visible'}`}>\r\n\t\t\t\t<div className='flex justify-between items-center mb-12'>\r\n\t\t\t\t\t<button\r\n\t\t\t\t\t\tclassName='bg-violet rounded-md text-white text-xs px-2 py-1'\r\n\t\t\t\t\t\tonClick={async () => {\r\n\t\t\t\t\t\t\ttry {\r\n\t\t\t\t\t\t\t\tconst response = await axios.get('/users/cart/clear');\r\n\t\t\t\t\t\t\t\tsetCart(response.data.data.cart);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\tcatch (err) {\r\n\t\t\t\t\t\t\t\tconsole.log(err);\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\tClear\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t<button className='text-4xl' onClick={() => setCartDisplay(false)}>&times;</button>\r\n\t\t\t\t</div>\r\n\t\t\t\t<div className='mb-auto'>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tcart\r\n\t\t\t\t\t\t\t? Object.entries(cart.items)\r\n\t\t\t\t\t\t\t\t? Object.entries(cart.items).map(([property, item], i) => <CartItem data={item} id={property} key={i} setCart={setCart} />)\r\n\t\t\t\t\t\t\t\t: <h1 className='text-center'>Fill up your cart now!</h1>\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t: <Loader />\r\n\t\t\t\t\t}\r\n\t\t\t\t</div>\r\n\r\n\t\t\t\t<div className='bg-white rounded-tl-2xl rounded-tr-2xl p-6 capitalize'>\r\n\t\t\t\t\t<p className='flex justify-between'>\r\n\t\t\t\t\t\t<span className='font-semibold'>sub total:</span>\r\n\t\t\t\t\t\t<span>₹{cart?.totalPrice}</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className='flex justify-between border-b-2 pb-2 border-gray-200'>\r\n\t\t\t\t\t\t<span className='font-semibold'>tax:</span>\r\n\t\t\t\t\t\t<span>18% GST</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<p className='flex justify-between mb-8'>\r\n\t\t\t\t\t\t<span className='font-semibold'>Grand Total:</span>\r\n\t\t\t\t\t\t<span>₹{cart?.totalPrice + cart?.totalPrice / 10}</span>\r\n\t\t\t\t\t</p>\r\n\t\t\t\t\t<div className='text-center'>\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\tisLoggedIn()\r\n\t\t\t\t\t\t\t\t? <Button isLink={true} to='/checkout'>Check Out</Button>\r\n\t\t\t\t\t\t\t\t: <Button isLink={true} to='/login'>Please login to place an order</Button>\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t</div>\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nexport default ShopPage;","var React = require('react');\n\nfunction Bag (props) {\n    return React.createElement(\"svg\",props,React.createElement(\"g\",null,[React.createElement(\"rect\",{\"fill\":\"none\",\"height\":\"24\",\"width\":\"24\",\"key\":0}),React.createElement(\"path\",{\"d\":\"M18,6h-2c0-2.21-1.79-4-4-4S8,3.79,8,6H6C4.9,6,4,6.9,4,8v12c0,1.1,0.9,2,2,2h12c1.1,0,2-0.9,2-2V8C20,6.9,19.1,6,18,6z M12,4c1.1,0,2,0.9,2,2h-4C10,4.9,10.9,4,12,4z M18,20H6V8h2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V8h4v2c0,0.55,0.45,1,1,1s1-0.45,1-1V8 h2V20z\",\"key\":1})]));\n}\n\nBag.defaultProps = {\"enableBackground\":\"new 0 0 24 24\",\"height\":\"24px\",\"viewBox\":\"0 0 24 24\",\"width\":\"24px\",\"fill\":\"#000000\"};\n\nmodule.exports = Bag;\n\nBag.default = Bag;\n"],"names":["btnClasses","props","isLink","className","to","children","type","onClick","e","style","borderTopColor","data","setCart","src","URL","alt","title","price","axios","_id","response","cart","console","log","id","quantity","useState","setData","cartDisplay","setCartDisplay","useEffect","then","res","products","catch","err","Object","entries","items","length","placeholder","map","product","i","key","property","item","totalPrice","isLoggedIn","React","Bag","createElement","defaultProps","module","exports","default"],"sourceRoot":""}